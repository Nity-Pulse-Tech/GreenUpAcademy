{% extends 'publics/home/base.html' %}
{% load static %}
{% load i18n %}

{% block content %}
 <!-- Header -->
<style>
        .gallery-item {
            transition: all 0.3s ease;
            overflow: hidden;
        }
        .gallery-item:hover {
            transform: translateY(-5px);
        }
        .gallery-item img {
            transition: transform 0.5s ease;
        }
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(57, 181, 74, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }
        .section-title {
            position: relative;
            display: inline-block;
        }
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background-color: #39b54a;
            margin: 15px auto 0;
        }

           .partner-card {
        position: relative;
        overflow: hidden;
    }
    
    .partner-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(57, 181, 74, 0.1), transparent);
        transition: left 0.5s ease;
    }
    
    .partner-card:hover::before {
        left: 100%;
    }
    
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    
    .partner-card:hover {
        animation: pulse 2s infinite;
    }

    </style>

    <!-- Hero Section -->
{% include 'publics/home/home_includes/_hero_section.html' %}

    <!-- About Section -->
{% include 'publics/home/home_includes/_about_section.html' %}

    <!-- Why Study Section -->
{% include 'publics/home/home_includes/_why_study_section.html' %}

    <!-- Formations Section -->
    <!-- Academic Training Section -->
{% include 'publics/home/home_includes/_formations_section.html' %}

<!-- Professional Training Section -->
{% include 'publics/home/home_includes/_training_section.html' %}


    <!-- Testimonials Section -->
{% include 'publics/home/home_includes/_testimonials_section.html' %}


    <!-- Statistics Section -->
{% include 'publics/home/home_includes/_statistics_section.html' %}

            <!-- Gallery Section -->
<!-- Gallery Section -->
{% include 'publics/home/home_includes/_gallery_section.html' %}


            
           <!-- Enhanced Partners Section -->
{% include 'publics/home/home_includes/_partners_section.html' %}

    <!-- Contact Section -->
{% include 'publics/home/home_includes/_contact_section.html' %}

 <!-- Lightbox Modal (hidden by default) -->
    <div id="lightbox-modal" class="fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center hidden">
        <div class="relative max-w-4xl w-full mx-4">
            <button id="close-lightbox" class="absolute -top-12 right-0 text-white text-3xl z-10">
                <i class="fas fa-times"></i>
            </button>
            <img id="lightbox-image" src="" alt="" class="w-full rounded-lg">
            <p id="lightbox-caption" class="text-white text-center mt-4 text-lg"></p>
            
            <button id="prev-image" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-3xl">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button id="next-image" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-3xl">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <script>
        // Simple lightbox functionality
        document.addEventListener('DOMContentLoaded', function() {
            const galleryItems = document.querySelectorAll('.gallery-item');
            const lightboxModal = document.getElementById('lightbox-modal');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const closeLightbox = document.getElementById('close-lightbox');
            const prevButton = document.getElementById('prev-image');
            const nextButton = document.getElementById('next-image');
            
            let currentImageIndex = 0;
            const images = [];
            
            // Collect all gallery images
            galleryItems.forEach((item, index) => {
                const img = item.querySelector('img');
                const caption = item.querySelector('.gallery-overlay p').textContent;
                images.push({ src: img.src, caption: caption });
                
                item.addEventListener('click', () => {
                    currentImageIndex = index;
                    openLightbox();
                });
            });
            
            function openLightbox() {
                lightboxImage.src = images[currentImageIndex].src;
                lightboxCaption.textContent = images[currentImageIndex].caption;
                lightboxModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
            
            function closeLightboxFunc() {
                lightboxModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
            
            function showNextImage() {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                lightboxImage.src = images[currentImageIndex].src;
                lightboxCaption.textContent = images[currentImageIndex].caption;
            }
            
            function showPrevImage() {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                lightboxImage.src = images[currentImageIndex].src;
                lightboxCaption.textContent = images[currentImageIndex].caption;
            }
            
            closeLightbox.addEventListener('click', closeLightboxFunc);
            nextButton.addEventListener('click', showNextImage);
            prevButton.addEventListener('click', showPrevImage);
            
            lightboxModal.addEventListener('click', (e) => {
                if (e.target === lightboxModal) {
                    closeLightboxFunc();
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (!lightboxModal.classList.contains('hidden')) {
                    if (e.key === 'Escape') {
                        closeLightboxFunc();
                    } else if (e.key === 'ArrowRight') {
                        showNextImage();
                    } else if (e.key === 'ArrowLeft') {
                        showPrevImage();
                    }
                }
            });
        });
    </script>
{% endblock %}